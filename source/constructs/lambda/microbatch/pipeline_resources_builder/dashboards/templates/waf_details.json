{
    "annotations":{
        "list":[
            {
                "builtIn":1,
                "datasource":{
                    "type":"grafana",
                    "uid":"-- Grafana --"
                },
                "enable":true,
                "hide":true,
                "iconColor":"rgba(0, 211, 255, 1)",
                "name":"Annotations & Alerts",
                "target":{
                    "limit":100,
                    "matchAny":false,
                    "tags":[

                    ],
                    "type":"dashboard"
                },
                "type":"dashboard"
            }
        ]
    },
    "editable":true,
    "fiscalYearStartMonth":0,
    "graphTooltip":0,
    "id":196,
    "links":[

    ],
    "liveNow":false,
    "panels":[
        {
            "datasource":{
                "type":"grafana-athena-datasource",
                "uid":"Bn93a3_Vk"
            },
            "description":"",
            "fieldConfig":{
                "defaults":{
                    "color":{
                        "fixedColor":"green",
                        "mode":"fixed"
                    },
                    "custom":{
                        "align":"center",
                        "cellOptions":{
                            "type":"color-text"
                        },
                        "filterable":true,
                        "inspect":true
                    },
                    "mappings":[

                    ],
                    "min":-3,
                    "thresholds":{
                        "mode":"absolute",
                        "steps":[
                            {
                                "color":"green",
                                "value":null
                            },
                            {
                                "color":"red",
                                "value":80
                            }
                        ]
                    },
                    "unit":"none"
                },
                "overrides":[
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"time"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"Time"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"api_id"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"API ID"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"domain_name"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"Host"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"http_method"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"HTTP Method"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"client_ip"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"Client IP"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"stage"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"Stage"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"path"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"Path"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"response_type"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"Response Type"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"integration_latency"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"Integration Latency"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"response_latency"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"Response Latency"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"authorizer_status"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"Authorizer Status"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"authorizer_latency"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"Authorizer Latency"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"status_code"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"HTTP Status Code"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"account_id"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"Account ID"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"integration_status"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"Integration Status"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"authorizer_request_id"
                        },
                        "properties":[
                            {
                                "id":"custom.width",
                                "value":302
                            },
                            {
                                "id":"displayName",
                                "value":"Authorizer  Request Id"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"response_length"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"Response Length"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"error_message"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"Error Message"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"waf_latency"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"WAF Latency"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"waf_status_code"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"WAF Ststus Code"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"waf_response_code"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"WAF Response Code"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"webacl_arn"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"WebaclArn"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"xray_trace_id"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"xrayTraceId"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"user"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"User"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"user_agent"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"User Agent"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"aws_endpoint_request_id"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"awsEndpointRequestId"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"extended_request_id"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"extendedRequestid"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"request_id"
                        },
                        "properties":[
                            {
                                "id":"displayName",
                                "value":"requestId"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"No"
                        },
                        "properties":[
                            {
                                "id":"custom.width",
                                "value":71
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"api_name"
                        },
                        "properties":[
                            {
                                "id":"custom.width",
                                "value":192
                            },
                            {
                                "id":"displayName",
                                "value":"API Name"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"api_protocol_type"
                        },
                        "properties":[
                            {
                                "id":"custom.width",
                                "value":105
                            },
                            {
                                "id":"displayName",
                                "value":"API Protocol Type"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"stage"
                        },
                        "properties":[
                            {
                                "id":"custom.width",
                                "value":113
                            },
                            {
                                "id":"displayName",
                                "value":"Stage"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"api_key"
                        },
                        "properties":[
                            {
                                "id":"custom.width",
                                "value":109
                            },
                            {
                                "id":"displayName",
                                "value":"API Key"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"protocol"
                        },
                        "properties":[
                            {
                                "id":"custom.width",
                                "value":115
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"api_key_id"
                        },
                        "properties":[
                            {
                                "id":"custom.width",
                                "value":131
                            },
                            {
                                "id":"displayName",
                                "value":"API Key Id"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"api_key_name"
                        },
                        "properties":[
                            {
                                "id":"custom.width",
                                "value":131
                            },
                            {
                                "id":"displayName",
                                "value":"API Key Name"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"api_usage_plan_name"
                        },
                        "properties":[
                            {
                                "id":"custom.width",
                                "value":152
                            },
                            {
                                "id":"displayName",
                                "value":"API Usage Plan Name"
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"webaclid"
                        },
                        "properties":[
                            {
                                "id":"custom.width",
                                "value":426
                            }
                        ]
                    },
                    {
                        "matcher":{
                            "id":"byName",
                            "options":"httprequest"
                        },
                        "properties":[
                            {
                                "id":"custom.width",
                                "value":351
                            }
                        ]
                    }
                ]
            },
            "gridPos":{
                "h":33,
                "w":24,
                "x":0,
                "y":0
            },
            "id":14,
            "options":{
                "cellHeight":"sm",
                "footer":{
                    "countRows":false,
                    "enablePagination":false,
                    "fields":[
                        "response_latency",
                        "response_length"
                    ],
                    "reducer":[
                        "sum"
                    ],
                    "show":false
                },
                "showHeader":true,
                "sortBy":[

                ]
            },
            "pluginVersion":"10.0.0",
            "targets":[
                {
                    "connectionArgs":{
                        "catalog":"__default",
                        "database":"__default",
                        "region":"__default",
                        "resultReuseEnabled":true,
                        "resultReuseMaxAgeInMinutes":5
                    },
                    "datasource":{
                        "type":"grafana-athena-datasource",
                        "uid":"Bn93a3_Vk"
                    },
                    "format":1,
                    "rawSQL":"SELECT t.rn as No, t.time, t.timestamp, t.formatversion, t.webaclid, t.httprequest.clientip, case when filter(t.httprequest.headers, x -> lower(x.name) = 'host' ) = ARRAY[] then '' else filter(t.httprequest.headers, x -> lower(x.name) = 'host' )[1].value end as host, t.httprequest.uri, t.terminatingruleid, t.terminatingruletype, t.action, t.terminatingrulematchdetails, t.httpsourcename, t.httpsourceid, t.rulegrouplist, t.ratebasedrulelist, t.nonterminatingmatchingrules, t.requestheadersinserted, t.responsecodesent, t.httprequest, t.labels, t.captcharesponse\nFROM (SELECT time, timestamp, formatversion, webaclid, terminatingruleid, terminatingruletype, action, terminatingrulematchdetails, httpsourcename, httpsourceid, rulegrouplist, ratebasedrulelist, nonterminatingmatchingrules, requestheadersinserted, responsecodesent, httprequest, labels, captcharesponse,\n    row_number() over (order by time ${sort_by}) as rn\n  FROM \"$__table\"\n  WHERE account_id = ${account_id:sqlstring}\n\t\tAND region = ${region:sqlstring} \n\t\tAND action IN (${action:sqlstring}) \n\t\tAND terminatingRuleType IN (${terminatingruletype:sqlstring})\n\t\tAND webAclName IN (${webaclname:sqlstring}) \n\t\tAND httpSourceId IN (${httpsourceid:sqlstring}) \n\t\tAND terminatingRuleId IN (${terminatingruleid:sqlstring})\n\t\tAND httprequest.clientip LIKE '${clientip}%'\n\t\tAND $__unixEpochFilter(time / 1000)\n\t\tAND (event_hour BETWEEN  $__rawTimeFrom('yyyyMMddHH') AND  $__rawTimeTo('yyyyMMddHH')\n\t\t\tOR event_hour = $__rawTimeFrom('yyyyMMdd00'))\n  ) t \n  WHERE t.rn BETWEEN (${page_no:int} - 1) * ${page_size:int} + 1 AND ${page_no:int} * ${page_size:int};",
                    "refId":"A",
                    "table":"waf"
                }
            ],
            "transformations":[
                {
                    "id":"convertFieldType",
                    "options":{
                        "conversions":[

                        ],
                        "fields":{

                        }
                    }
                }
            ],
            "type":"table"
        }
    ],
    "refresh":"",
    "revision":1,
    "schemaVersion":38,
    "style":"dark",
    "tags":[

    ],
    "templating":{
        "list":[
            {
                "allValue":"SELECT api_id FROM centralized.ads_aws_apigateway_logs_metrics WHERE  (__ds__ BETWEEN date_format(from_iso8601_timestamp('${__from:date:iso:YYYY-MM-DD}'), '%Y-%m-%d-%H-%i') AND date_format(from_iso8601_timestamp('${__to:date:iso:YYYY-MM-DD}'), '%Y-%m-%d-%H-%i')   OR __ds__ = date_format(from_iso8601_timestamp('${__from:date:iso:YYYY-MM-DD}'), '%Y-%m-%d-00-00')) GROUP BY api_id",
                "current":{
                    "selected":false,
                    "text":"123456789012",
                    "value":"123456789012"
                },
                "datasource":{
                    "type":"grafana-athena-datasource",
                    "uid":"Bn93a3_Vk"
                },
                "definition":"",
                "hide":0,
                "includeAll":false,
                "label":"Account Id",
                "multi":false,
                "name":"account_id",
                "options":[

                ],
                "query":{
                    "connectionArgs":{
                        "catalog":"__default",
                        "database":"__default",
                        "region":"__default",
                        "resultReuseEnabled":true,
                        "resultReuseMaxAgeInMinutes":5
                    },
                    "format":1,
                    "rawSQL":"SELECT account_id\nFROM \"$__table\"\nWHERE  event_hour BETWEEN  $__rawTimeFrom('yyyyMMddHH') AND  $__rawTimeTo('yyyyMMddHH')\n\tOR event_hour = $__rawTimeFrom('yyyyMMdd00')\nGROUP BY account_id",
                    "table":"waf_metrics"
                },
                "refresh":2,
                "regex":"",
                "skipUrlSync":false,
                "sort":0,
                "type":"query"
            },
            {
                "allValue":"SELECT api_id FROM centralized.ads_aws_apigateway_logs_metrics WHERE  (__ds__ BETWEEN date_format(from_iso8601_timestamp('${__from:date:iso:YYYY-MM-DD}'), '%Y-%m-%d-%H-%i') AND date_format(from_iso8601_timestamp('${__to:date:iso:YYYY-MM-DD}'), '%Y-%m-%d-%H-%i')   OR __ds__ = date_format(from_iso8601_timestamp('${__from:date:iso:YYYY-MM-DD}'), '%Y-%m-%d-00-00')) GROUP BY api_id",
                "current":{
                    "selected":false,
                    "text":"us-east-1",
                    "value":"us-east-1"
                },
                "datasource":{
                    "type":"grafana-athena-datasource",
                    "uid":"Bn93a3_Vk"
                },
                "definition":"",
                "hide":0,
                "includeAll":false,
                "label":"Region",
                "multi":false,
                "name":"region",
                "options":[

                ],
                "query":{
                    "connectionArgs":{
                        "catalog":"__default",
                        "database":"__default",
                        "region":"__default",
                        "resultReuseEnabled":true,
                        "resultReuseMaxAgeInMinutes":5
                    },
                    "format":1,
                    "rawSQL":"SELECT region\nFROM \"$__table\"\nWHERE  event_hour BETWEEN  $__rawTimeFrom('yyyyMMddHH') AND  $__rawTimeTo('yyyyMMddHH')\n\tOR event_hour = $__rawTimeFrom('yyyyMMdd00')\nGROUP BY region",
                    "table":"waf_metrics"
                },
                "refresh":2,
                "regex":"",
                "skipUrlSync":false,
                "sort":0,
                "type":"query"
            },
            {
                "current":{
                    "selected":true,
                    "text":[
                        "BLOCK"
                    ],
                    "value":[
                        "BLOCK"
                    ]
                },
                "description":"",
                "hide":0,
                "includeAll":true,
                "label":"Action",
                "multi":true,
                "name":"action",
                "options":[
                    {
                        "selected":false,
                        "text":"All",
                        "value":"$__all"
                    },
                    {
                        "selected":false,
                        "text":"ALLOW",
                        "value":"ALLOW"
                    },
                    {
                        "selected":true,
                        "text":"BLOCK",
                        "value":"BLOCK"
                    },
                    {
                        "selected":false,
                        "text":"CAPTCHA",
                        "value":"CAPTCHA"
                    },
                    {
                        "selected":false,
                        "text":"Count",
                        "value":"Count"
                    },
                    {
                        "selected":false,
                        "text":"Challenge",
                        "value":"Challenge"
                    }
                ],
                "query":"ALLOW, BLOCK,CAPTCHA,Count,Challenge",
                "queryValue":"",
                "skipUrlSync":false,
                "type":"custom"
            },
            {
                "current":{
                    "selected":true,
                    "text":[
                        "All"
                    ],
                    "value":[
                        "$__all"
                    ]
                },
                "hide":0,
                "includeAll":true,
                "label":"Terminating Rule Type",
                "multi":true,
                "name":"terminatingruletype",
                "options":[
                    {
                        "selected":true,
                        "text":"All",
                        "value":"$__all"
                    },
                    {
                        "selected":false,
                        "text":"RATE_BASED",
                        "value":"RATE_BASED"
                    },
                    {
                        "selected":false,
                        "text":"REGULAR",
                        "value":"REGULAR"
                    },
                    {
                        "selected":false,
                        "text":"GROUP",
                        "value":"GROUP"
                    },
                    {
                        "selected":false,
                        "text":"MANAGED_RULE_GROUP",
                        "value":"MANAGED_RULE_GROUP"
                    }
                ],
                "query":"RATE_BASED, REGULAR, GROUP, MANAGED_RULE_GROUP",
                "queryValue":"",
                "skipUrlSync":false,
                "type":"custom"
            },
            {
                "allValue":"SELECT terminatingruleid FROM \"$__table_metrics\" WHERE account_id = (${account_id:sqlstring}) \tAND region = (${region:sqlstring}) \tAND (event_hour BETWEEN  $__rawTimeFrom('yyyyMMddHH') AND  $__rawTimeTo('yyyyMMddHH') \t\tOR event_hour = $__rawTimeFrom('yyyyMMdd00')) GROUP BY terminatingruleid",
                "current":{
                    "selected":false,
                    "text":"All",
                    "value":"$__all"
                },
                "datasource":{
                    "type":"grafana-athena-datasource",
                    "uid":"Bn93a3_Vk"
                },
                "definition":"",
                "hide":0,
                "includeAll":true,
                "label":"Terminating Rule Id",
                "multi":true,
                "name":"terminatingruleid",
                "options":[

                ],
                "query":{
                    "connectionArgs":{
                        "catalog":"__default",
                        "database":"__default",
                        "region":"__default",
                        "resultReuseEnabled":true,
                        "resultReuseMaxAgeInMinutes":5
                    },
                    "format":1,
                    "rawSQL":"SELECT terminatingruleid\nFROM \"$__table\"\nWHERE account_id = (${account_id:sqlstring})\n\tAND region = (${region:sqlstring})\n\tAND (event_hour BETWEEN  $__rawTimeFrom('yyyyMMddHH') AND  $__rawTimeTo('yyyyMMddHH')\n\t\tOR event_hour = $__rawTimeFrom('yyyyMMdd00'))\nGROUP BY terminatingruleid\n\n\n",
                    "table":"waf_metrics"
                },
                "refresh":2,
                "regex":"",
                "skipUrlSync":false,
                "sort":0,
                "type":"query"
            },
            {
                "allValue":"SELECT webaclname FROM \"$__table_metrics\" WHERE account_id = (${account_id:sqlstring}) \tAND region = (${region:sqlstring}) \tAND (event_hour BETWEEN  $__rawTimeFrom('yyyyMMddHH') AND  $__rawTimeTo('yyyyMMddHH') \t\tOR event_hour = $__rawTimeFrom('yyyyMMdd00')) GROUP BY webaclname",
                "current":{
                    "selected":false,
                    "text":"All",
                    "value":"$__all"
                },
                "datasource":{
                    "type":"grafana-athena-datasource",
                    "uid":"Bn93a3_Vk"
                },
                "definition":"",
                "description":"",
                "hide":0,
                "includeAll":true,
                "label":"Web ACL Name",
                "multi":true,
                "name":"webaclname",
                "options":[

                ],
                "query":{
                    "connectionArgs":{
                        "catalog":"__default",
                        "database":"__default",
                        "region":"__default",
                        "resultReuseEnabled":true,
                        "resultReuseMaxAgeInMinutes":5
                    },
                    "format":1,
                    "rawSQL":"SELECT webaclname\nFROM \"$__table\"\nWHERE account_id = (${account_id:sqlstring})\n\tAND region = (${region:sqlstring})\n\tAND (event_hour BETWEEN  $__rawTimeFrom('yyyyMMddHH') AND  $__rawTimeTo('yyyyMMddHH')\n\t\tOR event_hour = $__rawTimeFrom('yyyyMMdd00'))\nGROUP BY webaclname\n\n\n\n",
                    "table":"waf_metrics"
                },
                "refresh":2,
                "regex":"",
                "skipUrlSync":false,
                "sort":0,
                "type":"query"
            },
            {
                "allValue":"SELECT httpsourceid FROM \"$__table_metrics\" WHERE account_id = (${account_id:sqlstring}) \tAND region = (${region:sqlstring}) \tAND (event_hour BETWEEN  $__rawTimeFrom('yyyyMMddHH') AND  $__rawTimeTo('yyyyMMddHH') \t\tOR event_hour = $__rawTimeFrom('yyyyMMdd00')) GROUP BY httpsourceid",
                "current":{
                    "selected":false,
                    "text":"All",
                    "value":"$__all"
                },
                "datasource":{
                    "type":"grafana-athena-datasource",
                    "uid":"Bn93a3_Vk"
                },
                "definition":"",
                "hide":0,
                "includeAll":true,
                "label":"Source",
                "multi":true,
                "name":"httpsourceid",
                "options":[

                ],
                "query":{
                    "connectionArgs":{
                        "catalog":"__default",
                        "database":"__default",
                        "region":"__default",
                        "resultReuseEnabled":true,
                        "resultReuseMaxAgeInMinutes":5
                    },
                    "format":1,
                    "rawSQL":"SELECT httpsourceid\nFROM \"$__table\"\nWHERE account_id = (${account_id:sqlstring})\n\tAND region = (${region:sqlstring})\n\tAND (event_hour BETWEEN  $__rawTimeFrom('yyyyMMddHH') AND  $__rawTimeTo('yyyyMMddHH')\n\t\tOR event_hour = $__rawTimeFrom('yyyyMMdd00'))\nGROUP BY httpsourceid\n\n",
                    "table":"waf_metrics"
                },
                "refresh":2,
                "regex":"",
                "skipUrlSync":false,
                "sort":0,
                "type":"query"
            },
            {
                "current":{
                    "selected":false,
                    "text":"",
                    "value":""
                },
                "hide":0,
                "label":"Client IP",
                "name":"clientip",
                "options":[
                    {
                        "selected":true,
                        "text":"",
                        "value":""
                    }
                ],
                "query":"",
                "skipUrlSync":false,
                "type":"textbox"
            },
            {
                "current":{
                    "selected":false,
                    "text":"1",
                    "value":"1"
                },
                "datasource":{
                    "type":"grafana-athena-datasource",
                    "uid":"Bn93a3_Vk"
                },
                "definition":"",
                "hide":0,
                "includeAll":false,
                "label":"Page No",
                "multi":false,
                "name":"page_no",
                "options":[

                ],
                "query":{
                    "connectionArgs":{
                        "catalog":"__default",
                        "database":"__default",
                        "region":"__default",
                        "resultReuseEnabled":true,
                        "resultReuseMaxAgeInMinutes":5
                    },
                    "format":1,
                    "rawSQL":"SELECT cast(page_no as varchar) as page_no\nFROM (\n\tSELECT sequence(1, count(1) / ${page_size:int} + 1, 1)\n  FROM \"$__table\"\n  WHERE account_id = ${account_id:sqlstring}\n\t\tAND region = ${region:sqlstring} \n\t\tAND action IN (${action:sqlstring}) \n\t\tAND terminatingRuleType IN (${terminatingruletype:sqlstring})\n\t\tAND webAclName IN (${webaclname:sqlstring}) \n\t\tAND httpSourceId IN (${httpsourceid:sqlstring}) \n\t\tAND terminatingRuleId IN (${terminatingruleid:sqlstring})\n\t\tAND $__unixEpochFilter(time / 1000)\n\t\tAND (event_hour BETWEEN  $__rawTimeFrom('yyyyMMddHH') AND  $__rawTimeTo('yyyyMMddHH')\n\t\tOR event_hour = $__rawTimeFrom('yyyyMMdd00'))\n\t) AS x (no)\nCROSS JOIN UNNEST(no) AS t (page_no)\n;",
                    "table":"waf"
                },
                "refresh":2,
                "regex":"",
                "skipUrlSync":false,
                "sort":0,
                "type":"query"
            },
            {
                "current":{
                    "selected":true,
                    "text":"1000",
                    "value":"1000"
                },
                "hide":0,
                "includeAll":false,
                "label":"Page Size",
                "multi":false,
                "name":"page_size",
                "options":[
                    {
                        "selected":false,
                        "text":"100",
                        "value":"100"
                    },
                    {
                        "selected":true,
                        "text":"1000",
                        "value":"1000"
                    },
                    {
                        "selected":false,
                        "text":"10000",
                        "value":"10000"
                    },
                    {
                        "selected":false,
                        "text":"50000",
                        "value":"50000"
                    }
                ],
                "query":"100, 1000, 10000, 50000",
                "queryValue":"",
                "skipUrlSync":false,
                "type":"custom"
            },
            {
                "current":{
                    "selected":false,
                    "text":"Asc",
                    "value":"Asc"
                },
                "hide":0,
                "includeAll":false,
                "label":"Sort  by",
                "multi":false,
                "name":"sort_by",
                "options":[
                    {
                        "selected":true,
                        "text":"Asc",
                        "value":"Asc"
                    },
                    {
                        "selected":false,
                        "text":"Desc",
                        "value":"Desc"
                    }
                ],
                "query":"Asc, Desc",
                "queryValue":"",
                "skipUrlSync":false,
                "type":"custom"
            }
        ]
    },
    "time":{
        "from":"now-30m",
        "to":"now"
    },
    "timepicker":{
        "refresh_intervals":[
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
        ]
    },
    "timezone":"",
    "title":"waf-details",
    "uid":"bf412f36-d95b-4b80-bcc6-29e775208d2a-00",
    "version":1,
    "weekStart":""
}